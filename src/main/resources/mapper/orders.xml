<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.funding.mapper.OrdersMapper">
    <resultMap id="OrdersResponseMap" type="com.example.funding.dto.response.orders.OrdersResponseDto">
        <!-- 유저 테이블 -->
        <id property="userId" column="userId"/>

    </resultMap>

    <!--<select id="prepareOrder" parameterType="map" resultMap="OrdersResponseMap">
        SELECT
            &lt;!&ndash; 유저 테이블 &ndash;&gt;
            u.userId,
            u.nickname,
            u.email,

            &lt;!&ndash; 배송지 테이블&ndash;&gt;
            a.addrId,
            a.addrName,
            a.recipient,
            a.postalCode,
            a.roadAddr,
            a.detailAddr,
            a.recipientPhone,

            &lt;!&ndash; 창작자 테이블 &ndash;&gt;
            c.creatorId,
            c.creatorName,
            c.profileImg,

            &lt;!&ndash;프로젝트 테이블 &ndash;&gt;
            p.projectId,
            p.title,
            p.thumbnail,

            &lt;!&ndash; 리워드 &ndash;&gt;
            r.rewardId,
            r.rewardName,
            r.price,
            bd.quantity,
            r.deliveryDate

        FROM users u
        JOIN address a ON u.userId = a.userId AND a.isDefault ='Y'
        JOIN project p ON p.projectId = #{projectId}
        JOIN creator c ON P.creatorId = c.creatorId
        JOIN reward  r ON r.projectId = p.projectId
        WHERE u.userId = #{userId};

    </select>-->
</mapper>