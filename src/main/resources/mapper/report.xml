<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.funding.mapper.ReportMapper">

    <select id="reportList" resultType="report">
        SELECT * FROM
        (SELECT sub.*, ROWNUM rnum FROM (
        SELECT * FROM report order by REPORTID desc
        ) sub)
    </select>

    <select id="reportDetail" resultType="report">
        SELECT * FROM report
        WHERE REPORTID = #{reportId}
    </select>

    <select id="item" resultType="report">
        SELECT * FROM report
        WHERE REPORTID = #{reportId}
    </select>

    <insert id="add">
        INSERT INTO report
        VALUES (report_seq.NEXTVAL, #{userId}, #{target}, #{reason}, SYSDATE, #{reportStatus}, #{reportType})
    </insert>

</mapper>
